{% extends "layout.html" %}
{% block content %}
    {% include "userSelection.html" %}
    <p>This page is in progress.
        Its intention is to provide users with the ability to choose multiple counties to directly compare across attributes of interest</p>
	<div class="row">
		<div class="col-lg">
			<div id="slider">
			  <div id="oldchildslider"></div>
			</div>
		</div>
		<div class="col-lg-8">
			<div id="compare"></div>
    	</div>
		<script type="text/javascript">
			vegaEmbed('#compare', JSON.parse('{{ vega_spec | tojson | safe}}')).then(function(result) {
  const sliders = document.getElementsByClassName('vega-bindings');
  const newparent = document.getElementById('slider');
  const oldchild = document.getElementById("oldchildslider");
  newparent.replaceChild(sliders[0], oldchild);

}).catch(console.error);
var button = document.createElement("button")
button.setAttribute("id", 'addComparison')
button.setAttribute("onclick", "createStateDropdown('{{ url_for('static', filename='data_sources/county_by_state_list.json') }}')")
button.innerHTML="Add County";
document.getElementById("countySelections").prepend(document.createElement("br"));
document.getElementById("countySelections").prepend(button);
		</script>
  	</div>
{% endblock %}